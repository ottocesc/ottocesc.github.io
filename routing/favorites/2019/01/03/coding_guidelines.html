<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Sim UI- Coding Guidelines | Variant Configuration</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Sim UI- Coding Guidelines" />
<meta name="author" content="zoli" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Coding Guidelines Project Folder structure Freestyle application For the application always place your files into the corresponding folders, every folder has to be named according to its content: view: place the application’s XML views here controller: place the views’ controllers here i18n: should contain only ResourceModels with translatable texts model: if there is a need for custom JSON models, place them here test: only test code, no application logic (qunit &amp; opa5) util: reusable utility functions, which do not strictly belong to any module dialog: application’s dialogs should be placed here. Do not define or build complex dialogs inside controllers fragment: use this folder to place XML fragments dao: folder for data access object(s) You can introduce new folders with self-explanatory names if necessary. All of these folders must be placed under the webapp folder. Components For components, the guideline is the same, the only difference is the root folder. Components’ root is: src/LIBRARY_NAMESPACE/components/COMPONENT_NAME. For example for our structurepanel component the root folder is: src/i2d/lo/lib/vchclf/components/structurepanel. General JavaScript guidelines Coding style The basic guides can be found on the Fiori wiki page: https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Fiori+Essentials And on the following SAP Help page: https://help.sap.com/saphelp_uiaddon10/helpdata/en/ed/ed636b85584cd586b1fe231d2b5dac/content.htm?loaded_from_frameset=true In short, please pay special attention for the following rules: only use ES5 syntax (exceptions: Promises) always use the &quot;use strict&quot;; command in top level functions always correct all of the ESLint findings (you may use this sample ESLintRC file in your editor) you can find more information on how to setup ESLint for VSCode in this file use the built-in beautifier for js and pay attention to indentation, line breaks and empty lines always use Hungarian notation for variable names use Lower Camel Case everywhere (i.e. sMaterialId or aConfigurableProducts) use underscore prefix for functions which meant to be private use “on” prefix for all event handlers (e.g. onButtonPressed) always use async operations, do not block the UI In general, never use “hacky” or unnecessarily weird ways in your implementations (e.g. do not use 1! for false). Always use self-explaining variable/function names, do not consider length (the minifier will take care of it). When you declare new variables, always declare them in block scope, even ES5 supports function scope only (see this). Declaring on block level improves readability. Pay special attention on re-declaration, with block scope usage of variables, it’s easy to declare for example an i iterator over and over again. Never reuse your previous variables in a different context (i.e. use multiple iterators for different loops (i, j, k etc), do not reuse existing ones)! When you write a logic that could be hard to understand by the others, use comments. It will be useful even for you after a few weeks… But when you feel that your logic is getting too complex (i.e. nested loops inside callbacks) consider refactoring your code or ask for help, if you have no idea how to do it. Always pay attention to define clear signature for your functions. JavaScript is a very dynamic language, if your parameter lists are messy, your whole code will be messy. Always pay attention to the structure of your code! Golden rules: Always declare variables in the beginning of the block, unless it really has to be done differently Empty line after declaration block Empty line between the function body closing bracket and the next function’s JSDoc section Empty line before and after if blocks Empty line before returning from function When a statement is too long, put line breaks after operators Never call the same function more than once. Create a reference for its result if it’s needed Ctrl + Alt + B is your friend (at least on English layout) Class names are upper, variables are lower camel case Modularization Always modularize your implementations. To define modules, use the sap.ui.define function. Defining a new module is as easy as: sap.ui.define([ &quot;path/to/some/Dependency&quot; ], function (Dependency) { var MySingleton = function () { // do some stuff } return new MySingleton(); }) You can outsource dialogs, complex logic blocks, formatters or any other coding which is independent from the controllers/other modules. Using modules improves readability and reusability. Do not consider network delays or performance issues when creating new modules as the build script will package the whole application into one bundle. Modularization is also important in case of views and fragments, since XML views can be messy and hard to read when they become bigger. Using multiple files in this case also will improve readability and usability. When you create a new dialog which contains multiple controls, always create a new fragment. For tab bars also consider having every tab in a separate view. When two views are similar in some way, consider inheritance. UI5 best practices Accessing a control Reduce the need for setting control properties from the controller. UI5’s controllers provide an easy-to-use byId function which can query for the view’s controls by id, but this will make your code harder to read and maintain. Solution: bind everything which makes sense! For setting controls’ busy state or visibility, you can define controller or component level json models and bind these properties against this model. After this, you can set this property and leave the rest to the binding mechanism. There are cases when byId is needed, in which case use it in a self-explanatory way. The first thing is use an id in the XML view which identifies the control not only for the framework, but also for you and for the others. Prefix your id with id and give it a meaningful name. For example, if you want to add an identifier for a list which contains materials name it idMaterialList. For event handler functions, use the on prefix and provide meaningful naming. For example, if a button triggers a navigation to a new page, which is called “Notes” name it onNavigateToNotesPage. In event handlers always use oEvent.getSource() to get the sender control. This event parameter usually contains all information you need to perform your logic. Data binding When working with controls, it’s easy to get the bound object. Always use the getBindingContext method where the corresponding model and binding path are returned. With these values you can perform data manipulation on the model with the setProperty call on the model object. In case of two-way binding, use submitChanges to write the data back to the ABAP server. DAO It is a good practice to use data access objects in applications. The role of these objects is to detach the data access layer from your controllers and organize them into one separate module. In a DAO file there can be functions for CRUD operations. These functions can be reused in every controller and module. Using DAO helps maintenance, readability and reusability. Inside a DAO function use promises (preferably the ES6 Promise function). Promises provide a standardized way to handle these asynchronous operations. sap.ui.define([ &quot;path/to/some/Dependency&quot; ], function (Dependency) { return { _oModel: …, init: function (…) { … }, readSomeEntry: function (oParams) { return new Promise(function (resolve, reject) { // … some logic on the _oModel, resolve the deferred object when the data is ready: resolve(oSomeData); // … }); } } }) Never format the service response inside DAO. DAO is meant to be the accessing layer; its response should be generic because it can be called from different places in the application. The DAO needs a reference for the ODataModel object which can be set in an initializer. In case of multiple DAOs consider inheriting from a base class where the models are set. i18n All UI texts should be located in the i18n properties file. Inside the file always use meaningful names for the id. In our case prefix names with vch_ and provide self-explanatory names which tell anybody where the text is used. Meaningful name means that it should be obvious that where the text is used. Always use lower case and separate words by underscore. Example: vch_tabbar_tab_product_productlabel where it’s visible that the text is located on the tab bars product tab and it is a label for a product. If you want to define some common texts which can be used everywhere (e.g. a Cancel button) name it like: vch_commons_button_cancel. Always keep in mind that our application will be translated to RTL languages as well, so you cannot hardcode anything! When you have to provide a &#39;title (description)&#39; style text, always use parameters and i18n entry for it: {0} ({1})`. In this case translators will be able to change the order of the parameters. Never concatenate strings which will appear on the UI, neither in JS code nor in XML views. String concatenations in XML views will result in build failure. Controllers Inside a controller organize functions to 3 groups: public events protected private The first method in the controller should always be the onInit (if needed). After the initializer add the public, the private and the event blocks in this order. Public and protected functions do not need a prefix, just add meaningful names for them, e.g.: setRoutingModel and use the proper JSDoc Event handlers (here we can have the lifecycle methods too) should start with on prefix, e.g.: onFilterChanged, onButtonPressed Private function names should start with an underscore, e.g.: _performPrivateOperation XML views Namespaces Only use those namespaces which are really needed. Always make sure that unused namespaces are removed. When you have to import a library (e.g. sap.ui.layout), make sure that it is added to the dependencies in manifest.json. This will improve performance by preloading it, and it is mandatory anyways. Build will fail without it. Coding style In XML views fortunately there are not many possibilities to write logic, so there won’t be tons of rules. When there’s a need for an id for a control, have it as the first attributes. The order of the other attributes does not matter. Never use complex expression bindings in the views. Expression binding is a cool stuff, but you cannot debug it and it may also be hard to understand by others. You can use it in simple cases, e.g.: visibility=&quot;{= ${flag} === &#39;X&#39;}&quot;. In case of more complex logic or for reuse support always use formatter functions. Indentation &amp; formatting Unfortunately, WebIDE’s XML beautifier uses inline arrangement. In case of multiple attributes in the nodes, it can be hard to find a specific one. To avoid it, please always format your views in a way, that all of the attributes are in a new line. For reference, check this example: ```xml This layout can be achieved only manually though... And of course, if the beautify function is triggered the complete view will be transformed to the inline style. So in case of XML views __NEVER__ use beautification! This means you have to manually provide the correct indentation, so please always pay attention to it. ### Infrastructure Jenkins jobs: - SimulationS1 - [i2d.lo.vchclf.simulations1-masters1-CI](https://fiodevci03.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-CI/) - [i2d.lo.vchclf.simulations1-masters1-abap-upload](https://fiodevci03.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-abap-upload/) - [i2d.lo.vchclf.simulations1-masters1-gerrit-voter](https://fiovoter.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-gerrit-voter/) - Library - [i2d.lo.lib.vchclf-masters1-CI](https://fiodevci03.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-CI/) - [i2d.lo.lib.vchclf-masters1-abap-upload](https://fiodevci03.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-abap-upload/) - [i2d.lo.lib.vchclf-masters1-gerrit-voter](https://fiovoter.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-gerrit-voter/) [![Continuous Integration](./img/ci.png)](./img/ci.png) ## Documentation In Fiori UI development, we have to document our application/component using JSDoc. You can generate JSDoc comments with the `Ctrl + Alt + J` shortcut. This functionality works a little strange, you have to place your cursor on the function keyword to make it happen. An example JSDoc comment: ``` javascript /** * Formats the incoming parameters for the favorites &amp; recently used list * @param {string} sObjDesc - Description of the object * @param {string} sObjId - ID of the object * @param {string} sPlantDesc - Plant description * @param {string} sPlantId - Plant ID * @returns {string} Formatted string for displaying on the UI * @public */ listItemFormatter: function (sObjDesc, sObjId, sPlantDesc, sPlantId) { return &quot;dummy&quot;; } Every method should be documented this way, even the private ones. For reference and available keywords, please visit the official page of JSDoc. Every JSDoc should be consistent so always use the mentioned format. Do not use any unnecessary flags. Git To maintain a clear and concise Git history please adhere the following rules when writing your commit messages. Git Setup If you use Git locally on your machine, please make sure that you configure Git with your name and email address correctly. Use the following commands to do so: git config --global user.name &quot;John Doe&quot; git config --global user.email johndoe@example.com When instaling Git on your machine you are asked what text editor you would like to use for writing Git commit messages. If you are not familiar with vi editor (Git’s default), and missed this setting during installation, you may use the following command to change the default editor to e.g. Nodepad++: git config --global core.editor &quot;&#39;C:/Program Files/Notepad++/notepad++.exe&#39; -multiInst -nosession&quot; See the following link for more information: Getting Started First Time Git Setup Commit title The first line of the commit message is the title. This should contain a short description of what changes have been done in the commit. Please adhere to these rules: Try limiting the length of the title to 50 characters never go above 72 If your change needs further explanation use the message body Separate the commit title from the message body with an blank line Prefix your commit message with the appropriate prefix (see table below) Use the imperative mood in the title The title should read as if “If I apply this commit it will &lt;Commit message title&gt;” e.g.: [TEST] Add missing OPA tests for Structure Panel -&gt; “If I apply this commit it will [TEST] Add missing OPA tests for Structure Panel” Capiatlize the subject line Do not use puctuation in the title | Prefix | When to use? | | ————- | ——————————————————— | | [TEST] | Changes done in test code | | [FIX] | Changes done due to an incident | | [INTERNAL] | Minor changes (e.g.: TODO removal, ESLint corrections) | | [FEATURE] | Other cases not covered above | | [POM] | Updating the pom.xml | | [GITIGNORE] | Updating the .gitignore | Commit message body Use the message body to explain the details of the changes if needed (for trivial changes you may omit the message body completely). Please adhere to these rules: Wrap the text body at 72 characters Use the body to explain what you did and why instead of how (that should speak for itself from the code) Add references at the end of the commit message body (these will be converted to links in Gerrit) BCP: &lt;incident number&gt; JIRA: &lt;backlog item id / task id / both&gt; Leave an empty line at the end of the commit message body This is where the Gerrit Change-Id will be inserted A sample Git commit message: ``` [FEATURE] The Title is a short summary of your Commit More detailed explanatory text, if necessary. Wrap it to about 72 characters or so. In some contexts, the first line is treated as the subject of the commit and the rest of the text as the body. The blank line separating the summary from the body is critical (unless you omit the body entirely); various tools like log, shortlog and rebase can get confused if you run the two together. Explain the problem that this commit is solving. Focus on why you are making this change as opposed to how (the code explains that). Are there side effects or other unintuitive consequences of this change? Here’s the place to explain them. Further paragraphs come after blank lines. Bullet points are okay, too Typically a hyphen is used for the bullet Put any further references at the bottom, like this (these will generate clickable links in Gerrit): BCP: 123456789 JIRA: SCON2-1234, SCON2-4567 &lt;Leave a blank line at the end, this is where the Gerrit Change-Id will be inserted&gt; For more detailed description of these rules please see the following blog post on writing Git commit messages: - [How to Write a Git Commit Message](https://chris.beams.io/posts/git-commit/) ### Commit hooks If you use Git locally on your machine, please use the following commit hooks to ensure that a Gerrit Change-Id is generated whenever you do a commit or a merge. Copy these two files and paste them into the `.git/hooks` folder of all your repositories: - [commit-msg](./hooks/commit-msg) - [prepare-commit-msg](./hooks/prepare-commit-msg) ### Aliases If you use Git locally on your machine, you may find the following aliases helpful (copy and paste them into your `.gintconfig` file): ```gitconfig [alias] ll = log --pretty=&#39;%C(red bold)%h%Creset |%C(yellow bold)%d%Creset %s %C(green)%cd %Creset%C(yellow)(%cr)%Creset %C(cyan)[%an]%Creset&#39; --graph --date=format:&#39;%Y-%m-%d %H:%M:%S&#39; --all sc = show --pretty=&#39;parent %C(red bold)%p%Creset commit %C(red bold)%h%Creset%C(yellow bold)%d%Creset%n%n%w(72,2,2)%s%n%n%b%n%n%w(72,0,0)%Cgreen%ad (%ar)%Creset %C(cyan)%an%Creset&#39; --date=format:&#39;%Y-%m-%d %H:%M:%S&#39; --name-only co = checkout st = status --short --branch gerrit = push origin HEAD:refs/for/masters1 Explanations: ll - This will do shortlog for all the branches (think “[l]og al[l]”) sc - You can use this to look into a commit (think “[s]how [c]ommit”) co - You can use this to checkout a banch (think “[c]heck[o]ut”) st - You can use this to see a status of your working directory (think “[st]atus”) gerrit - You can use this to push the current HEAD to Gerrit (no thinking is needed for this) References Useful links JavaScript Coding Guidelines https://help.sap.com/saphelp_uiaddon10/helpdata/en/ed/ed636b85584cd586b1fe231d2b5dac/content.htm?loaded_from_frameset=true WebIDE @ SAPJAM https://jam4.sapjam.com/groups/about_page/5EHZq2fndLhIvK0Q8DM25a General information about fiori https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Fiori+Essentials https://wiki.wdf.sap.corp/wiki/display/fioritech/Fiori+Technology+Home UI5 @ Stack Overflow (both SAP UI5 and OpenUI5) http://stackoverflow.com/questions/tagged/sapui5 UI5 @ SAPJAM https://jam4.sapjam.com/groups/about_page/7MFgdXHJVVv2BWC8g0Ubep https://jam4.sapjam.com/groups/about_page/46nPHpwJRbaNkd9QFAWtiW UI5 topic owners http://vesapui5.dhcp.wdf.sap.corp:8000/ui5team/#/ownership UI5 @ Jira https://sapjira.wdf.sap.corp/secure/IssueHierarchyOverview!default.jspa?projectKey=CPOUIFPHOENIXCORE&amp;displayMode=ranking Speaking JavaScript http://speakingjs.com/es5/index.html Exploring ES6 http://exploringjs.com/es6/ JSDoc: http://usejsdoc.org/ ESLint: https://eslint.org/ SAP recommended ESLint Code Checks: https://help.sap.com/saphelp_uiaddon10/helpdata/en/1b/a0e44f1036439b95f25527664f14f7/frameset.htm Sample ESLintRC file: .eslintrc Pro Git, a free online book on Git: https://git-scm.com/book/en/v2/ How to Write a Git Commit Message: https://chris.beams.io/posts/git-commit/ Hungarian Notation | Type | Prefix | Sample | | ——————— | ——— | ————- | | array | a | aEntries | | boolean | b | bEnabled | | date | d | dToday | | float | f | fDecimal | | function | fn | fnFunction | | int | i | iCount | | jQuery object | $ | $DomRef | | map / assoc. array | m | mParameters | | object | o | oDomRef | | regular expression | r | rPattern | | string | s | sId | | variant types | v | vVariant |" />
<meta property="og:description" content="Coding Guidelines Project Folder structure Freestyle application For the application always place your files into the corresponding folders, every folder has to be named according to its content: view: place the application’s XML views here controller: place the views’ controllers here i18n: should contain only ResourceModels with translatable texts model: if there is a need for custom JSON models, place them here test: only test code, no application logic (qunit &amp; opa5) util: reusable utility functions, which do not strictly belong to any module dialog: application’s dialogs should be placed here. Do not define or build complex dialogs inside controllers fragment: use this folder to place XML fragments dao: folder for data access object(s) You can introduce new folders with self-explanatory names if necessary. All of these folders must be placed under the webapp folder. Components For components, the guideline is the same, the only difference is the root folder. Components’ root is: src/LIBRARY_NAMESPACE/components/COMPONENT_NAME. For example for our structurepanel component the root folder is: src/i2d/lo/lib/vchclf/components/structurepanel. General JavaScript guidelines Coding style The basic guides can be found on the Fiori wiki page: https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Fiori+Essentials And on the following SAP Help page: https://help.sap.com/saphelp_uiaddon10/helpdata/en/ed/ed636b85584cd586b1fe231d2b5dac/content.htm?loaded_from_frameset=true In short, please pay special attention for the following rules: only use ES5 syntax (exceptions: Promises) always use the &quot;use strict&quot;; command in top level functions always correct all of the ESLint findings (you may use this sample ESLintRC file in your editor) you can find more information on how to setup ESLint for VSCode in this file use the built-in beautifier for js and pay attention to indentation, line breaks and empty lines always use Hungarian notation for variable names use Lower Camel Case everywhere (i.e. sMaterialId or aConfigurableProducts) use underscore prefix for functions which meant to be private use “on” prefix for all event handlers (e.g. onButtonPressed) always use async operations, do not block the UI In general, never use “hacky” or unnecessarily weird ways in your implementations (e.g. do not use 1! for false). Always use self-explaining variable/function names, do not consider length (the minifier will take care of it). When you declare new variables, always declare them in block scope, even ES5 supports function scope only (see this). Declaring on block level improves readability. Pay special attention on re-declaration, with block scope usage of variables, it’s easy to declare for example an i iterator over and over again. Never reuse your previous variables in a different context (i.e. use multiple iterators for different loops (i, j, k etc), do not reuse existing ones)! When you write a logic that could be hard to understand by the others, use comments. It will be useful even for you after a few weeks… But when you feel that your logic is getting too complex (i.e. nested loops inside callbacks) consider refactoring your code or ask for help, if you have no idea how to do it. Always pay attention to define clear signature for your functions. JavaScript is a very dynamic language, if your parameter lists are messy, your whole code will be messy. Always pay attention to the structure of your code! Golden rules: Always declare variables in the beginning of the block, unless it really has to be done differently Empty line after declaration block Empty line between the function body closing bracket and the next function’s JSDoc section Empty line before and after if blocks Empty line before returning from function When a statement is too long, put line breaks after operators Never call the same function more than once. Create a reference for its result if it’s needed Ctrl + Alt + B is your friend (at least on English layout) Class names are upper, variables are lower camel case Modularization Always modularize your implementations. To define modules, use the sap.ui.define function. Defining a new module is as easy as: sap.ui.define([ &quot;path/to/some/Dependency&quot; ], function (Dependency) { var MySingleton = function () { // do some stuff } return new MySingleton(); }) You can outsource dialogs, complex logic blocks, formatters or any other coding which is independent from the controllers/other modules. Using modules improves readability and reusability. Do not consider network delays or performance issues when creating new modules as the build script will package the whole application into one bundle. Modularization is also important in case of views and fragments, since XML views can be messy and hard to read when they become bigger. Using multiple files in this case also will improve readability and usability. When you create a new dialog which contains multiple controls, always create a new fragment. For tab bars also consider having every tab in a separate view. When two views are similar in some way, consider inheritance. UI5 best practices Accessing a control Reduce the need for setting control properties from the controller. UI5’s controllers provide an easy-to-use byId function which can query for the view’s controls by id, but this will make your code harder to read and maintain. Solution: bind everything which makes sense! For setting controls’ busy state or visibility, you can define controller or component level json models and bind these properties against this model. After this, you can set this property and leave the rest to the binding mechanism. There are cases when byId is needed, in which case use it in a self-explanatory way. The first thing is use an id in the XML view which identifies the control not only for the framework, but also for you and for the others. Prefix your id with id and give it a meaningful name. For example, if you want to add an identifier for a list which contains materials name it idMaterialList. For event handler functions, use the on prefix and provide meaningful naming. For example, if a button triggers a navigation to a new page, which is called “Notes” name it onNavigateToNotesPage. In event handlers always use oEvent.getSource() to get the sender control. This event parameter usually contains all information you need to perform your logic. Data binding When working with controls, it’s easy to get the bound object. Always use the getBindingContext method where the corresponding model and binding path are returned. With these values you can perform data manipulation on the model with the setProperty call on the model object. In case of two-way binding, use submitChanges to write the data back to the ABAP server. DAO It is a good practice to use data access objects in applications. The role of these objects is to detach the data access layer from your controllers and organize them into one separate module. In a DAO file there can be functions for CRUD operations. These functions can be reused in every controller and module. Using DAO helps maintenance, readability and reusability. Inside a DAO function use promises (preferably the ES6 Promise function). Promises provide a standardized way to handle these asynchronous operations. sap.ui.define([ &quot;path/to/some/Dependency&quot; ], function (Dependency) { return { _oModel: …, init: function (…) { … }, readSomeEntry: function (oParams) { return new Promise(function (resolve, reject) { // … some logic on the _oModel, resolve the deferred object when the data is ready: resolve(oSomeData); // … }); } } }) Never format the service response inside DAO. DAO is meant to be the accessing layer; its response should be generic because it can be called from different places in the application. The DAO needs a reference for the ODataModel object which can be set in an initializer. In case of multiple DAOs consider inheriting from a base class where the models are set. i18n All UI texts should be located in the i18n properties file. Inside the file always use meaningful names for the id. In our case prefix names with vch_ and provide self-explanatory names which tell anybody where the text is used. Meaningful name means that it should be obvious that where the text is used. Always use lower case and separate words by underscore. Example: vch_tabbar_tab_product_productlabel where it’s visible that the text is located on the tab bars product tab and it is a label for a product. If you want to define some common texts which can be used everywhere (e.g. a Cancel button) name it like: vch_commons_button_cancel. Always keep in mind that our application will be translated to RTL languages as well, so you cannot hardcode anything! When you have to provide a &#39;title (description)&#39; style text, always use parameters and i18n entry for it: {0} ({1})`. In this case translators will be able to change the order of the parameters. Never concatenate strings which will appear on the UI, neither in JS code nor in XML views. String concatenations in XML views will result in build failure. Controllers Inside a controller organize functions to 3 groups: public events protected private The first method in the controller should always be the onInit (if needed). After the initializer add the public, the private and the event blocks in this order. Public and protected functions do not need a prefix, just add meaningful names for them, e.g.: setRoutingModel and use the proper JSDoc Event handlers (here we can have the lifecycle methods too) should start with on prefix, e.g.: onFilterChanged, onButtonPressed Private function names should start with an underscore, e.g.: _performPrivateOperation XML views Namespaces Only use those namespaces which are really needed. Always make sure that unused namespaces are removed. When you have to import a library (e.g. sap.ui.layout), make sure that it is added to the dependencies in manifest.json. This will improve performance by preloading it, and it is mandatory anyways. Build will fail without it. Coding style In XML views fortunately there are not many possibilities to write logic, so there won’t be tons of rules. When there’s a need for an id for a control, have it as the first attributes. The order of the other attributes does not matter. Never use complex expression bindings in the views. Expression binding is a cool stuff, but you cannot debug it and it may also be hard to understand by others. You can use it in simple cases, e.g.: visibility=&quot;{= ${flag} === &#39;X&#39;}&quot;. In case of more complex logic or for reuse support always use formatter functions. Indentation &amp; formatting Unfortunately, WebIDE’s XML beautifier uses inline arrangement. In case of multiple attributes in the nodes, it can be hard to find a specific one. To avoid it, please always format your views in a way, that all of the attributes are in a new line. For reference, check this example: ```xml This layout can be achieved only manually though... And of course, if the beautify function is triggered the complete view will be transformed to the inline style. So in case of XML views __NEVER__ use beautification! This means you have to manually provide the correct indentation, so please always pay attention to it. ### Infrastructure Jenkins jobs: - SimulationS1 - [i2d.lo.vchclf.simulations1-masters1-CI](https://fiodevci03.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-CI/) - [i2d.lo.vchclf.simulations1-masters1-abap-upload](https://fiodevci03.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-abap-upload/) - [i2d.lo.vchclf.simulations1-masters1-gerrit-voter](https://fiovoter.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-gerrit-voter/) - Library - [i2d.lo.lib.vchclf-masters1-CI](https://fiodevci03.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-CI/) - [i2d.lo.lib.vchclf-masters1-abap-upload](https://fiodevci03.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-abap-upload/) - [i2d.lo.lib.vchclf-masters1-gerrit-voter](https://fiovoter.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-gerrit-voter/) [![Continuous Integration](./img/ci.png)](./img/ci.png) ## Documentation In Fiori UI development, we have to document our application/component using JSDoc. You can generate JSDoc comments with the `Ctrl + Alt + J` shortcut. This functionality works a little strange, you have to place your cursor on the function keyword to make it happen. An example JSDoc comment: ``` javascript /** * Formats the incoming parameters for the favorites &amp; recently used list * @param {string} sObjDesc - Description of the object * @param {string} sObjId - ID of the object * @param {string} sPlantDesc - Plant description * @param {string} sPlantId - Plant ID * @returns {string} Formatted string for displaying on the UI * @public */ listItemFormatter: function (sObjDesc, sObjId, sPlantDesc, sPlantId) { return &quot;dummy&quot;; } Every method should be documented this way, even the private ones. For reference and available keywords, please visit the official page of JSDoc. Every JSDoc should be consistent so always use the mentioned format. Do not use any unnecessary flags. Git To maintain a clear and concise Git history please adhere the following rules when writing your commit messages. Git Setup If you use Git locally on your machine, please make sure that you configure Git with your name and email address correctly. Use the following commands to do so: git config --global user.name &quot;John Doe&quot; git config --global user.email johndoe@example.com When instaling Git on your machine you are asked what text editor you would like to use for writing Git commit messages. If you are not familiar with vi editor (Git’s default), and missed this setting during installation, you may use the following command to change the default editor to e.g. Nodepad++: git config --global core.editor &quot;&#39;C:/Program Files/Notepad++/notepad++.exe&#39; -multiInst -nosession&quot; See the following link for more information: Getting Started First Time Git Setup Commit title The first line of the commit message is the title. This should contain a short description of what changes have been done in the commit. Please adhere to these rules: Try limiting the length of the title to 50 characters never go above 72 If your change needs further explanation use the message body Separate the commit title from the message body with an blank line Prefix your commit message with the appropriate prefix (see table below) Use the imperative mood in the title The title should read as if “If I apply this commit it will &lt;Commit message title&gt;” e.g.: [TEST] Add missing OPA tests for Structure Panel -&gt; “If I apply this commit it will [TEST] Add missing OPA tests for Structure Panel” Capiatlize the subject line Do not use puctuation in the title | Prefix | When to use? | | ————- | ——————————————————— | | [TEST] | Changes done in test code | | [FIX] | Changes done due to an incident | | [INTERNAL] | Minor changes (e.g.: TODO removal, ESLint corrections) | | [FEATURE] | Other cases not covered above | | [POM] | Updating the pom.xml | | [GITIGNORE] | Updating the .gitignore | Commit message body Use the message body to explain the details of the changes if needed (for trivial changes you may omit the message body completely). Please adhere to these rules: Wrap the text body at 72 characters Use the body to explain what you did and why instead of how (that should speak for itself from the code) Add references at the end of the commit message body (these will be converted to links in Gerrit) BCP: &lt;incident number&gt; JIRA: &lt;backlog item id / task id / both&gt; Leave an empty line at the end of the commit message body This is where the Gerrit Change-Id will be inserted A sample Git commit message: ``` [FEATURE] The Title is a short summary of your Commit More detailed explanatory text, if necessary. Wrap it to about 72 characters or so. In some contexts, the first line is treated as the subject of the commit and the rest of the text as the body. The blank line separating the summary from the body is critical (unless you omit the body entirely); various tools like log, shortlog and rebase can get confused if you run the two together. Explain the problem that this commit is solving. Focus on why you are making this change as opposed to how (the code explains that). Are there side effects or other unintuitive consequences of this change? Here’s the place to explain them. Further paragraphs come after blank lines. Bullet points are okay, too Typically a hyphen is used for the bullet Put any further references at the bottom, like this (these will generate clickable links in Gerrit): BCP: 123456789 JIRA: SCON2-1234, SCON2-4567 &lt;Leave a blank line at the end, this is where the Gerrit Change-Id will be inserted&gt; For more detailed description of these rules please see the following blog post on writing Git commit messages: - [How to Write a Git Commit Message](https://chris.beams.io/posts/git-commit/) ### Commit hooks If you use Git locally on your machine, please use the following commit hooks to ensure that a Gerrit Change-Id is generated whenever you do a commit or a merge. Copy these two files and paste them into the `.git/hooks` folder of all your repositories: - [commit-msg](./hooks/commit-msg) - [prepare-commit-msg](./hooks/prepare-commit-msg) ### Aliases If you use Git locally on your machine, you may find the following aliases helpful (copy and paste them into your `.gintconfig` file): ```gitconfig [alias] ll = log --pretty=&#39;%C(red bold)%h%Creset |%C(yellow bold)%d%Creset %s %C(green)%cd %Creset%C(yellow)(%cr)%Creset %C(cyan)[%an]%Creset&#39; --graph --date=format:&#39;%Y-%m-%d %H:%M:%S&#39; --all sc = show --pretty=&#39;parent %C(red bold)%p%Creset commit %C(red bold)%h%Creset%C(yellow bold)%d%Creset%n%n%w(72,2,2)%s%n%n%b%n%n%w(72,0,0)%Cgreen%ad (%ar)%Creset %C(cyan)%an%Creset&#39; --date=format:&#39;%Y-%m-%d %H:%M:%S&#39; --name-only co = checkout st = status --short --branch gerrit = push origin HEAD:refs/for/masters1 Explanations: ll - This will do shortlog for all the branches (think “[l]og al[l]”) sc - You can use this to look into a commit (think “[s]how [c]ommit”) co - You can use this to checkout a banch (think “[c]heck[o]ut”) st - You can use this to see a status of your working directory (think “[st]atus”) gerrit - You can use this to push the current HEAD to Gerrit (no thinking is needed for this) References Useful links JavaScript Coding Guidelines https://help.sap.com/saphelp_uiaddon10/helpdata/en/ed/ed636b85584cd586b1fe231d2b5dac/content.htm?loaded_from_frameset=true WebIDE @ SAPJAM https://jam4.sapjam.com/groups/about_page/5EHZq2fndLhIvK0Q8DM25a General information about fiori https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Fiori+Essentials https://wiki.wdf.sap.corp/wiki/display/fioritech/Fiori+Technology+Home UI5 @ Stack Overflow (both SAP UI5 and OpenUI5) http://stackoverflow.com/questions/tagged/sapui5 UI5 @ SAPJAM https://jam4.sapjam.com/groups/about_page/7MFgdXHJVVv2BWC8g0Ubep https://jam4.sapjam.com/groups/about_page/46nPHpwJRbaNkd9QFAWtiW UI5 topic owners http://vesapui5.dhcp.wdf.sap.corp:8000/ui5team/#/ownership UI5 @ Jira https://sapjira.wdf.sap.corp/secure/IssueHierarchyOverview!default.jspa?projectKey=CPOUIFPHOENIXCORE&amp;displayMode=ranking Speaking JavaScript http://speakingjs.com/es5/index.html Exploring ES6 http://exploringjs.com/es6/ JSDoc: http://usejsdoc.org/ ESLint: https://eslint.org/ SAP recommended ESLint Code Checks: https://help.sap.com/saphelp_uiaddon10/helpdata/en/1b/a0e44f1036439b95f25527664f14f7/frameset.htm Sample ESLintRC file: .eslintrc Pro Git, a free online book on Git: https://git-scm.com/book/en/v2/ How to Write a Git Commit Message: https://chris.beams.io/posts/git-commit/ Hungarian Notation | Type | Prefix | Sample | | ——————— | ——— | ————- | | array | a | aEntries | | boolean | b | bEnabled | | date | d | dToday | | float | f | fDecimal | | function | fn | fnFunction | | int | i | iCount | | jQuery object | $ | $DomRef | | map / assoc. array | m | mParameters | | object | o | oDomRef | | regular expression | r | rPattern | | string | s | sId | | variant types | v | vVariant |" />
<link rel="canonical" href="/routing/favorites/2019/01/03/coding_guidelines.html" />
<meta property="og:url" content="/routing/favorites/2019/01/03/coding_guidelines.html" />
<meta property="og:site_name" content="Variant Configuration" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-03T00:00:00+01:00" />
<script type="application/ld+json">
{"url":"/routing/favorites/2019/01/03/coding_guidelines.html","headline":"Sim UI- Coding Guidelines","dateModified":"2019-01-03T00:00:00+01:00","datePublished":"2019-01-03T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"/routing/favorites/2019/01/03/coding_guidelines.html"},"author":{"@type":"Person","name":"zoli"},"description":"Coding Guidelines Project Folder structure Freestyle application For the application always place your files into the corresponding folders, every folder has to be named according to its content: view: place the application’s XML views here controller: place the views’ controllers here i18n: should contain only ResourceModels with translatable texts model: if there is a need for custom JSON models, place them here test: only test code, no application logic (qunit &amp; opa5) util: reusable utility functions, which do not strictly belong to any module dialog: application’s dialogs should be placed here. Do not define or build complex dialogs inside controllers fragment: use this folder to place XML fragments dao: folder for data access object(s) You can introduce new folders with self-explanatory names if necessary. All of these folders must be placed under the webapp folder. Components For components, the guideline is the same, the only difference is the root folder. Components’ root is: src/LIBRARY_NAMESPACE/components/COMPONENT_NAME. For example for our structurepanel component the root folder is: src/i2d/lo/lib/vchclf/components/structurepanel. General JavaScript guidelines Coding style The basic guides can be found on the Fiori wiki page: https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Fiori+Essentials And on the following SAP Help page: https://help.sap.com/saphelp_uiaddon10/helpdata/en/ed/ed636b85584cd586b1fe231d2b5dac/content.htm?loaded_from_frameset=true In short, please pay special attention for the following rules: only use ES5 syntax (exceptions: Promises) always use the &quot;use strict&quot;; command in top level functions always correct all of the ESLint findings (you may use this sample ESLintRC file in your editor) you can find more information on how to setup ESLint for VSCode in this file use the built-in beautifier for js and pay attention to indentation, line breaks and empty lines always use Hungarian notation for variable names use Lower Camel Case everywhere (i.e. sMaterialId or aConfigurableProducts) use underscore prefix for functions which meant to be private use “on” prefix for all event handlers (e.g. onButtonPressed) always use async operations, do not block the UI In general, never use “hacky” or unnecessarily weird ways in your implementations (e.g. do not use 1! for false). Always use self-explaining variable/function names, do not consider length (the minifier will take care of it). When you declare new variables, always declare them in block scope, even ES5 supports function scope only (see this). Declaring on block level improves readability. Pay special attention on re-declaration, with block scope usage of variables, it’s easy to declare for example an i iterator over and over again. Never reuse your previous variables in a different context (i.e. use multiple iterators for different loops (i, j, k etc), do not reuse existing ones)! When you write a logic that could be hard to understand by the others, use comments. It will be useful even for you after a few weeks… But when you feel that your logic is getting too complex (i.e. nested loops inside callbacks) consider refactoring your code or ask for help, if you have no idea how to do it. Always pay attention to define clear signature for your functions. JavaScript is a very dynamic language, if your parameter lists are messy, your whole code will be messy. Always pay attention to the structure of your code! Golden rules: Always declare variables in the beginning of the block, unless it really has to be done differently Empty line after declaration block Empty line between the function body closing bracket and the next function’s JSDoc section Empty line before and after if blocks Empty line before returning from function When a statement is too long, put line breaks after operators Never call the same function more than once. Create a reference for its result if it’s needed Ctrl + Alt + B is your friend (at least on English layout) Class names are upper, variables are lower camel case Modularization Always modularize your implementations. To define modules, use the sap.ui.define function. Defining a new module is as easy as: sap.ui.define([ &quot;path/to/some/Dependency&quot; ], function (Dependency) { var MySingleton = function () { // do some stuff } return new MySingleton(); }) You can outsource dialogs, complex logic blocks, formatters or any other coding which is independent from the controllers/other modules. Using modules improves readability and reusability. Do not consider network delays or performance issues when creating new modules as the build script will package the whole application into one bundle. Modularization is also important in case of views and fragments, since XML views can be messy and hard to read when they become bigger. Using multiple files in this case also will improve readability and usability. When you create a new dialog which contains multiple controls, always create a new fragment. For tab bars also consider having every tab in a separate view. When two views are similar in some way, consider inheritance. UI5 best practices Accessing a control Reduce the need for setting control properties from the controller. UI5’s controllers provide an easy-to-use byId function which can query for the view’s controls by id, but this will make your code harder to read and maintain. Solution: bind everything which makes sense! For setting controls’ busy state or visibility, you can define controller or component level json models and bind these properties against this model. After this, you can set this property and leave the rest to the binding mechanism. There are cases when byId is needed, in which case use it in a self-explanatory way. The first thing is use an id in the XML view which identifies the control not only for the framework, but also for you and for the others. Prefix your id with id and give it a meaningful name. For example, if you want to add an identifier for a list which contains materials name it idMaterialList. For event handler functions, use the on prefix and provide meaningful naming. For example, if a button triggers a navigation to a new page, which is called “Notes” name it onNavigateToNotesPage. In event handlers always use oEvent.getSource() to get the sender control. This event parameter usually contains all information you need to perform your logic. Data binding When working with controls, it’s easy to get the bound object. Always use the getBindingContext method where the corresponding model and binding path are returned. With these values you can perform data manipulation on the model with the setProperty call on the model object. In case of two-way binding, use submitChanges to write the data back to the ABAP server. DAO It is a good practice to use data access objects in applications. The role of these objects is to detach the data access layer from your controllers and organize them into one separate module. In a DAO file there can be functions for CRUD operations. These functions can be reused in every controller and module. Using DAO helps maintenance, readability and reusability. Inside a DAO function use promises (preferably the ES6 Promise function). Promises provide a standardized way to handle these asynchronous operations. sap.ui.define([ &quot;path/to/some/Dependency&quot; ], function (Dependency) { return { _oModel: …, init: function (…) { … }, readSomeEntry: function (oParams) { return new Promise(function (resolve, reject) { // … some logic on the _oModel, resolve the deferred object when the data is ready: resolve(oSomeData); // … }); } } }) Never format the service response inside DAO. DAO is meant to be the accessing layer; its response should be generic because it can be called from different places in the application. The DAO needs a reference for the ODataModel object which can be set in an initializer. In case of multiple DAOs consider inheriting from a base class where the models are set. i18n All UI texts should be located in the i18n properties file. Inside the file always use meaningful names for the id. In our case prefix names with vch_ and provide self-explanatory names which tell anybody where the text is used. Meaningful name means that it should be obvious that where the text is used. Always use lower case and separate words by underscore. Example: vch_tabbar_tab_product_productlabel where it’s visible that the text is located on the tab bars product tab and it is a label for a product. If you want to define some common texts which can be used everywhere (e.g. a Cancel button) name it like: vch_commons_button_cancel. Always keep in mind that our application will be translated to RTL languages as well, so you cannot hardcode anything! When you have to provide a &#39;title (description)&#39; style text, always use parameters and i18n entry for it: {0} ({1})`. In this case translators will be able to change the order of the parameters. Never concatenate strings which will appear on the UI, neither in JS code nor in XML views. String concatenations in XML views will result in build failure. Controllers Inside a controller organize functions to 3 groups: public events protected private The first method in the controller should always be the onInit (if needed). After the initializer add the public, the private and the event blocks in this order. Public and protected functions do not need a prefix, just add meaningful names for them, e.g.: setRoutingModel and use the proper JSDoc Event handlers (here we can have the lifecycle methods too) should start with on prefix, e.g.: onFilterChanged, onButtonPressed Private function names should start with an underscore, e.g.: _performPrivateOperation XML views Namespaces Only use those namespaces which are really needed. Always make sure that unused namespaces are removed. When you have to import a library (e.g. sap.ui.layout), make sure that it is added to the dependencies in manifest.json. This will improve performance by preloading it, and it is mandatory anyways. Build will fail without it. Coding style In XML views fortunately there are not many possibilities to write logic, so there won’t be tons of rules. When there’s a need for an id for a control, have it as the first attributes. The order of the other attributes does not matter. Never use complex expression bindings in the views. Expression binding is a cool stuff, but you cannot debug it and it may also be hard to understand by others. You can use it in simple cases, e.g.: visibility=&quot;{= ${flag} === &#39;X&#39;}&quot;. In case of more complex logic or for reuse support always use formatter functions. Indentation &amp; formatting Unfortunately, WebIDE’s XML beautifier uses inline arrangement. In case of multiple attributes in the nodes, it can be hard to find a specific one. To avoid it, please always format your views in a way, that all of the attributes are in a new line. For reference, check this example: ```xml This layout can be achieved only manually though... And of course, if the beautify function is triggered the complete view will be transformed to the inline style. So in case of XML views __NEVER__ use beautification! This means you have to manually provide the correct indentation, so please always pay attention to it. ### Infrastructure Jenkins jobs: - SimulationS1 - [i2d.lo.vchclf.simulations1-masters1-CI](https://fiodevci03.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-CI/) - [i2d.lo.vchclf.simulations1-masters1-abap-upload](https://fiodevci03.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-abap-upload/) - [i2d.lo.vchclf.simulations1-masters1-gerrit-voter](https://fiovoter.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-gerrit-voter/) - Library - [i2d.lo.lib.vchclf-masters1-CI](https://fiodevci03.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-CI/) - [i2d.lo.lib.vchclf-masters1-abap-upload](https://fiodevci03.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-abap-upload/) - [i2d.lo.lib.vchclf-masters1-gerrit-voter](https://fiovoter.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-gerrit-voter/) [![Continuous Integration](./img/ci.png)](./img/ci.png) ## Documentation In Fiori UI development, we have to document our application/component using JSDoc. You can generate JSDoc comments with the `Ctrl + Alt + J` shortcut. This functionality works a little strange, you have to place your cursor on the function keyword to make it happen. An example JSDoc comment: ``` javascript /** * Formats the incoming parameters for the favorites &amp; recently used list * @param {string} sObjDesc - Description of the object * @param {string} sObjId - ID of the object * @param {string} sPlantDesc - Plant description * @param {string} sPlantId - Plant ID * @returns {string} Formatted string for displaying on the UI * @public */ listItemFormatter: function (sObjDesc, sObjId, sPlantDesc, sPlantId) { return &quot;dummy&quot;; } Every method should be documented this way, even the private ones. For reference and available keywords, please visit the official page of JSDoc. Every JSDoc should be consistent so always use the mentioned format. Do not use any unnecessary flags. Git To maintain a clear and concise Git history please adhere the following rules when writing your commit messages. Git Setup If you use Git locally on your machine, please make sure that you configure Git with your name and email address correctly. Use the following commands to do so: git config --global user.name &quot;John Doe&quot; git config --global user.email johndoe@example.com When instaling Git on your machine you are asked what text editor you would like to use for writing Git commit messages. If you are not familiar with vi editor (Git’s default), and missed this setting during installation, you may use the following command to change the default editor to e.g. Nodepad++: git config --global core.editor &quot;&#39;C:/Program Files/Notepad++/notepad++.exe&#39; -multiInst -nosession&quot; See the following link for more information: Getting Started First Time Git Setup Commit title The first line of the commit message is the title. This should contain a short description of what changes have been done in the commit. Please adhere to these rules: Try limiting the length of the title to 50 characters never go above 72 If your change needs further explanation use the message body Separate the commit title from the message body with an blank line Prefix your commit message with the appropriate prefix (see table below) Use the imperative mood in the title The title should read as if “If I apply this commit it will &lt;Commit message title&gt;” e.g.: [TEST] Add missing OPA tests for Structure Panel -&gt; “If I apply this commit it will [TEST] Add missing OPA tests for Structure Panel” Capiatlize the subject line Do not use puctuation in the title | Prefix | When to use? | | ————- | ——————————————————— | | [TEST] | Changes done in test code | | [FIX] | Changes done due to an incident | | [INTERNAL] | Minor changes (e.g.: TODO removal, ESLint corrections) | | [FEATURE] | Other cases not covered above | | [POM] | Updating the pom.xml | | [GITIGNORE] | Updating the .gitignore | Commit message body Use the message body to explain the details of the changes if needed (for trivial changes you may omit the message body completely). Please adhere to these rules: Wrap the text body at 72 characters Use the body to explain what you did and why instead of how (that should speak for itself from the code) Add references at the end of the commit message body (these will be converted to links in Gerrit) BCP: &lt;incident number&gt; JIRA: &lt;backlog item id / task id / both&gt; Leave an empty line at the end of the commit message body This is where the Gerrit Change-Id will be inserted A sample Git commit message: ``` [FEATURE] The Title is a short summary of your Commit More detailed explanatory text, if necessary. Wrap it to about 72 characters or so. In some contexts, the first line is treated as the subject of the commit and the rest of the text as the body. The blank line separating the summary from the body is critical (unless you omit the body entirely); various tools like log, shortlog and rebase can get confused if you run the two together. Explain the problem that this commit is solving. Focus on why you are making this change as opposed to how (the code explains that). Are there side effects or other unintuitive consequences of this change? Here’s the place to explain them. Further paragraphs come after blank lines. Bullet points are okay, too Typically a hyphen is used for the bullet Put any further references at the bottom, like this (these will generate clickable links in Gerrit): BCP: 123456789 JIRA: SCON2-1234, SCON2-4567 &lt;Leave a blank line at the end, this is where the Gerrit Change-Id will be inserted&gt; For more detailed description of these rules please see the following blog post on writing Git commit messages: - [How to Write a Git Commit Message](https://chris.beams.io/posts/git-commit/) ### Commit hooks If you use Git locally on your machine, please use the following commit hooks to ensure that a Gerrit Change-Id is generated whenever you do a commit or a merge. Copy these two files and paste them into the `.git/hooks` folder of all your repositories: - [commit-msg](./hooks/commit-msg) - [prepare-commit-msg](./hooks/prepare-commit-msg) ### Aliases If you use Git locally on your machine, you may find the following aliases helpful (copy and paste them into your `.gintconfig` file): ```gitconfig [alias] ll = log --pretty=&#39;%C(red bold)%h%Creset |%C(yellow bold)%d%Creset %s %C(green)%cd %Creset%C(yellow)(%cr)%Creset %C(cyan)[%an]%Creset&#39; --graph --date=format:&#39;%Y-%m-%d %H:%M:%S&#39; --all sc = show --pretty=&#39;parent %C(red bold)%p%Creset commit %C(red bold)%h%Creset%C(yellow bold)%d%Creset%n%n%w(72,2,2)%s%n%n%b%n%n%w(72,0,0)%Cgreen%ad (%ar)%Creset %C(cyan)%an%Creset&#39; --date=format:&#39;%Y-%m-%d %H:%M:%S&#39; --name-only co = checkout st = status --short --branch gerrit = push origin HEAD:refs/for/masters1 Explanations: ll - This will do shortlog for all the branches (think “[l]og al[l]”) sc - You can use this to look into a commit (think “[s]how [c]ommit”) co - You can use this to checkout a banch (think “[c]heck[o]ut”) st - You can use this to see a status of your working directory (think “[st]atus”) gerrit - You can use this to push the current HEAD to Gerrit (no thinking is needed for this) References Useful links JavaScript Coding Guidelines https://help.sap.com/saphelp_uiaddon10/helpdata/en/ed/ed636b85584cd586b1fe231d2b5dac/content.htm?loaded_from_frameset=true WebIDE @ SAPJAM https://jam4.sapjam.com/groups/about_page/5EHZq2fndLhIvK0Q8DM25a General information about fiori https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Fiori+Essentials https://wiki.wdf.sap.corp/wiki/display/fioritech/Fiori+Technology+Home UI5 @ Stack Overflow (both SAP UI5 and OpenUI5) http://stackoverflow.com/questions/tagged/sapui5 UI5 @ SAPJAM https://jam4.sapjam.com/groups/about_page/7MFgdXHJVVv2BWC8g0Ubep https://jam4.sapjam.com/groups/about_page/46nPHpwJRbaNkd9QFAWtiW UI5 topic owners http://vesapui5.dhcp.wdf.sap.corp:8000/ui5team/#/ownership UI5 @ Jira https://sapjira.wdf.sap.corp/secure/IssueHierarchyOverview!default.jspa?projectKey=CPOUIFPHOENIXCORE&amp;displayMode=ranking Speaking JavaScript http://speakingjs.com/es5/index.html Exploring ES6 http://exploringjs.com/es6/ JSDoc: http://usejsdoc.org/ ESLint: https://eslint.org/ SAP recommended ESLint Code Checks: https://help.sap.com/saphelp_uiaddon10/helpdata/en/1b/a0e44f1036439b95f25527664f14f7/frameset.htm Sample ESLintRC file: .eslintrc Pro Git, a free online book on Git: https://git-scm.com/book/en/v2/ How to Write a Git Commit Message: https://chris.beams.io/posts/git-commit/ Hungarian Notation | Type | Prefix | Sample | | ——————— | ——— | ————- | | array | a | aEntries | | boolean | b | bEnabled | | date | d | dToday | | float | f | fDecimal | | function | fn | fnFunction | | int | i | iCount | | jQuery object | $ | $DomRef | | map / assoc. array | m | mParameters | | object | o | oDomRef | | regular expression | r | rPattern | | string | s | sId | | variant types | v | vVariant |","@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Variant Configuration" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Variant Configuration</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/">Home</a><a class="page-link" href="/vc1_simulation.html">Simulation</a><a class="page-link" href="/vc2_valuation.html">Valuation</a><a class="page-link" href="/vc3_engine.html">Engine</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Sim UI- Coding Guidelines</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-01-03T00:00:00+01:00" itemprop="datePublished">Jan 3, 2019
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">zoli</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="coding-guidelines">Coding Guidelines</h1>
<h2 id="project-folder-structure">Project Folder structure</h2>
<h3 id="freestyle-application">Freestyle application</h3>
<p>For the application always place your files into the corresponding folders, every folder has to be named according to its content:</p>
<ul>
  <li><code class="highlighter-rouge">view</code>: place the application’s XML views here</li>
  <li><code class="highlighter-rouge">controller</code>: place the views’ controllers here
    <h3 id="i18n-should-contain-only-resourcemodels-with-translatable-texts">i18n: should contain only ResourceModels with translatable texts</h3>
  </li>
  <li><code class="highlighter-rouge">model</code>: if there is a need for custom JSON models, place them here</li>
  <li><code class="highlighter-rouge">test</code>: only test code, no application logic (qunit &amp; opa5)</li>
  <li><code class="highlighter-rouge">util</code>: reusable utility functions, which do not strictly belong to any module</li>
  <li><code class="highlighter-rouge">dialog</code>: application’s dialogs should be placed here. Do not define or build complex dialogs inside controllers</li>
  <li><code class="highlighter-rouge">fragment</code>: use this folder to place XML fragments</li>
  <li><code class="highlighter-rouge">dao</code>: folder for data access object(s)
You can introduce new folders with self-explanatory names if necessary. All of these folders must be placed under the <code class="highlighter-rouge">webapp</code> folder.
    <h3 id="components">Components</h3>
    <p>For components, the guideline is the same, the only difference is the root folder.
Components’ root is: <code class="highlighter-rouge">src/LIBRARY_NAMESPACE/components/COMPONENT_NAME</code>.
For example for our <code class="highlighter-rouge">structurepanel</code> component the root folder is: <code class="highlighter-rouge">src/i2d/lo/lib/vchclf/components/structurepanel</code>.</p>
    <h2 id="general-javascript-guidelines">General JavaScript guidelines</h2>
    <h3 id="coding-style">Coding style</h3>
    <p>The basic guides can be found on the Fiori wiki page:</p>
  </li>
  <li>https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Fiori+Essentials
And on the following SAP Help page:</li>
  <li>https://help.sap.com/saphelp_uiaddon10/helpdata/en/ed/ed636b85584cd586b1fe231d2b5dac/content.htm?loaded_from_frameset=true
In short, please pay special attention for the following rules:</li>
  <li>only use <a href="http://speakingjs.com/es5/index.html">ES5 syntax</a> (exceptions: <a href="http://exploringjs.com/es6/ch_promises.html">Promises</a>)</li>
  <li>always use the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode"><code class="highlighter-rouge">"use strict";</code></a> command in top level functions</li>
  <li>always correct all of the <a href="https://eslint.org/">ESLint</a> findings (you may use this <a href="./res/.eslintrc">sample ESLintRC file</a> in your editor)
    <ul>
      <li>you can find more information on how to setup ESLint for VSCode in <a href="./vscode_es_lint_how_to.md">this</a> file</li>
    </ul>
  </li>
  <li>use the built-in beautifier for js and pay attention to indentation, line breaks and empty lines</li>
  <li>always use <a href="#Hungarian-Notation">Hungarian notation</a> for variable names</li>
  <li>use <a href="http://wiki.c2.com/?LowerCamelCase">Lower Camel Case</a> everywhere (i.e. <code class="highlighter-rouge">sMaterialId</code> or <code class="highlighter-rouge">aConfigurableProducts</code>)</li>
  <li>use underscore prefix for functions which meant to be private</li>
  <li>use “on” prefix for all event handlers (e.g. <code class="highlighter-rouge">onButtonPressed</code>)</li>
  <li>always use async operations, do not block the UI
In general, never use “hacky” or unnecessarily weird ways in your implementations (e.g. do not use 1! for false).
Always use self-explaining variable/function names, do not consider length (the minifier will take care of it).
When you declare new variables, always declare them in block scope, even ES5 supports function scope only (see <a href="http://speakingjs.com/es5/ch16.html">this</a>).
Declaring on block level improves readability.
Pay special attention on re-declaration, with block scope usage of variables, it’s easy to declare for example an <code class="highlighter-rouge">i</code> iterator over and over again.
Never reuse your previous variables in a different context (i.e. use multiple iterators for different loops (<code class="highlighter-rouge">i</code>, <code class="highlighter-rouge">j</code>, <code class="highlighter-rouge">k</code> etc), do not reuse existing ones)!
When you write a logic that could be hard to understand by the others, use comments. It will be useful even for you after a few weeks…
But when you feel that your logic is getting too complex (i.e. nested loops inside callbacks) consider refactoring your code or ask for help, if you have no idea how to do it.
Always pay attention to define clear signature for your functions. JavaScript is a very dynamic language, if your parameter lists are messy, your whole code will be messy.
Always pay attention to the structure of your code!
Golden rules:</li>
  <li>Always declare variables in the beginning of the block, unless it really has to be done differently</li>
  <li><a href="https://eslint.org/docs/rules/newline-after-var">Empty line after declaration block</a></li>
  <li>Empty line between the function body closing bracket and the next function’s JSDoc section</li>
  <li><a href="https://eslint.org/docs/rules/padding-line-between-statements">Empty line before and after if blocks</a></li>
  <li><a href="https://eslint.org/docs/rules/newline-before-return">Empty line before returning from function</a></li>
  <li><a href="https://eslint.org/docs/rules/operator-linebreak">When a statement is too long, put line breaks after operators</a></li>
  <li>Never call the same function more than once. Create a reference for its result if it’s needed</li>
  <li><code class="highlighter-rouge">Ctrl + Alt + B</code> is your friend (at least on English layout)</li>
  <li>Class names are upper, variables are lower camel case
    <h3 id="modularization">Modularization</h3>
    <p>Always modularize your implementations. To define modules, use the sap.ui.define function. Defining a new module is as easy as:</p>
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">sap</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">define</span><span class="p">([</span>
  <span class="s2">"path/to/some/Dependency"</span>
<span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">Dependency</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">MySingleton</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="c1">// do some stuff</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nx">MySingleton</span><span class="p">();</span>
<span class="p">})</span>
</code></pre></div>    </div>
    <p>You can outsource dialogs, complex logic blocks, formatters or any other coding which is independent from the controllers/other modules.
Using modules improves readability and reusability.
Do not consider network delays or performance issues when creating new modules as the build script will package the whole application into one bundle.
Modularization is also important in case of views and fragments, since XML views can be messy and hard to read when they become bigger.
Using multiple files in this case also will improve readability and usability.
When you create a new dialog which contains multiple controls, always create a new fragment.
For tab bars also consider having every tab in a separate view.
When two views are similar in some way, consider inheritance.</p>
    <h2 id="ui5-best-practices">UI5 best practices</h2>
    <h3 id="accessing-a-control">Accessing a control</h3>
    <p>Reduce the need for setting control properties from the controller.
UI5’s controllers provide an easy-to-use <code class="highlighter-rouge">byId</code> function which can query for the view’s controls by id, but this will make your code harder to read and maintain.
<em>Solution</em>: bind everything which makes sense!
For setting controls’ busy state or visibility, you can define controller or component level json models and bind these properties against this model.
After this, you can set this property and leave the rest to the binding mechanism.
There are cases when <code class="highlighter-rouge">byId</code> is needed, in which case use it in a self-explanatory way.
The first thing is use an id in the XML view which identifies the control not only for the framework, but also for you and for the others.
Prefix your id with <code class="highlighter-rouge">id</code> and give it a meaningful name.
For example, if you want to add an identifier for a list which contains materials name it <code class="highlighter-rouge">idMaterialList</code>.
For event handler functions, use the <code class="highlighter-rouge">on</code> prefix and provide meaningful naming.
For example, if a button triggers a navigation to a new page, which is called “Notes” name it <code class="highlighter-rouge">onNavigateToNotesPage</code>.
In event handlers always use oEvent.getSource() to get the sender control.
This event parameter usually contains all information you need to perform your logic.</p>
    <h3 id="data-binding">Data binding</h3>
    <p>When working with controls, it’s easy to get the bound object.
Always use the <code class="highlighter-rouge">getBindingContext</code> method where the corresponding model and binding path are returned.
With these values you can perform data manipulation on the model with the <code class="highlighter-rouge">setProperty</code> call on the model object.
In case of two-way binding, use <code class="highlighter-rouge">submitChanges</code> to write the data back to the ABAP server.</p>
    <h3 id="dao">DAO</h3>
    <p>It is a good practice to use data access objects in applications.
The role of these objects is to detach the data access layer from your controllers and organize them into one separate module.
In a DAO file there can be functions for CRUD operations.
These functions can be reused in every controller and module.
Using DAO helps maintenance, readability and reusability.
Inside a DAO function use promises (preferably the ES6 Promise function).
Promises provide a standardized way to handle these asynchronous operations.</p>
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">sap</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">define</span><span class="p">([</span>
  <span class="s2">"path/to/some/Dependency"</span>
<span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">Dependency</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
      <span class="na">_oModel</span><span class="p">:</span> <span class="err">…</span><span class="p">,</span>
      <span class="na">init</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="err">…</span><span class="p">)</span> <span class="p">{</span> <span class="err">…</span> <span class="p">},</span>
      <span class="na">readSomeEntry</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">oParams</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
              <span class="c1">// … some logic on the _oModel, resolve the deferred object when the data is ready:</span>
              <span class="nx">resolve</span><span class="p">(</span><span class="nx">oSomeData</span><span class="p">);</span>
              <span class="c1">// …</span>
          <span class="p">});</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div>    </div>
    <p>Never format the service response inside DAO.
DAO is meant to be the accessing layer; its response should be generic because it can be called from different places in the application.
The DAO needs a reference for the ODataModel object which can be set in an initializer.
In case of multiple DAOs consider inheriting from a base class where the models are set.
<a href="./img/dao.png"><img src="./img/dao.png" alt="DAO" /></a></p>
    <h3 id="i18n">i18n</h3>
    <p>All UI texts should be located in the i18n properties file.
Inside the file always use meaningful names for the id.
In our case prefix names with <code class="highlighter-rouge">vch_</code> and provide self-explanatory names which tell anybody where the text is used.
Meaningful name means that it should be obvious that where the text is used.
Always use lower case and separate words by underscore.
Example: <code class="highlighter-rouge">vch_tabbar_tab_product_productlabel</code> where it’s visible that the text is located on the tab bar<code class="highlighter-rouge">s product tab and it is a label for a product.
If you want to define some common texts which can be used everywhere (e.g. a </code>Cancel<code class="highlighter-rouge"> button) name it like: </code>vch_commons_button_cancel<code class="highlighter-rouge">.
Always keep in mind that our application will be translated to RTL languages as well, so you cannot hardcode anything!
When you have to provide a 'title (description)' style text, always use parameters and i18n entry for it: </code>{0} ({1})`.
In this case translators will be able to change the order of the parameters.
Never concatenate strings which will appear on the UI, neither in JS code nor in XML views.
String concatenations in XML views will result in build failure.</p>
    <h3 id="controllers">Controllers</h3>
    <p>Inside a controller organize functions to 3 groups:</p>
  </li>
  <li>public</li>
  <li>events</li>
  <li>protected</li>
  <li>private
The first method in the controller should always be the <code class="highlighter-rouge">onInit</code> (if needed).
After the initializer add the public, the private and the event blocks in this order.</li>
  <li>Public and protected functions do not need a prefix, just add meaningful names for them, e.g.: <code class="highlighter-rouge">setRoutingModel</code> and use the proper JSDoc</li>
  <li>Event handlers (here we can have the lifecycle methods too) should start with <code class="highlighter-rouge">on</code> prefix, e.g.: <code class="highlighter-rouge">onFilterChanged</code>, <code class="highlighter-rouge">onButtonPressed</code></li>
  <li>Private function names should start with an underscore, e.g.: <code class="highlighter-rouge">_performPrivateOperation</code>
    <h2 id="xml-views">XML views</h2>
    <h3 id="namespaces">Namespaces</h3>
    <p>Only use those namespaces which are really needed.
Always make sure that unused namespaces are removed.
When you have to import a library (e.g. <code class="highlighter-rouge">sap.ui.layout</code>), make sure that it is added to the dependencies in manifest.json.
This will improve performance by preloading it, and it is mandatory anyways. Build will fail without it.</p>
    <h3 id="coding-style-1">Coding style</h3>
    <p>In XML views fortunately there are not many possibilities to write logic, so there won’t be tons of rules.
When there’s a need for an id for a control, have it as the first attributes.
The order of the other attributes does not matter.
Never use complex expression bindings in the views.
Expression binding is a cool stuff, but you cannot debug it and it may also be hard to understand by others.
You can use it in simple cases, e.g.: <code class="highlighter-rouge">visibility="{= ${flag} === 'X'}"</code>.
In case of more complex logic or for reuse support always use formatter functions.</p>
    <h3 id="indentation--formatting">Indentation &amp; formatting</h3>
    <p>Unfortunately, WebIDE’s XML beautifier uses inline arrangement.
In case of multiple attributes in the nodes, it can be hard to find a specific one.
To avoid it, please always format your views in a way, that all of the attributes are in a new line.
For reference, check this example:
```xml</p>
  </li>
</ul>
<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.mvc" xmlns="sap.m" controllerName="i2d.lo.lib.vchclf.simulation.components.selectiontabstrip.controller.Favorites">
	<List items="{
			path: 'sim&gt;/FavoriteSet',
			sorter: {path: 'ObjectDescription'},
			filters: [{
				path: 'ObjectType',
				operator: 'EQ',
				value1: 'PROD'
			}]
		}" showSeparators="None">
		<items>
			<CustomListItem>
				<HBox>
					<core:Icon id="idFavoriteIcon" src="sap-icon://favorite" press="onUnfavoritePressed" tooltip="{i18n&gt;/vch_favrec_tt_removefromfavorites}" />
					<link text="{
							parts: [
								{path: 'sim&gt;ObjectDescription'},
								{path: 'sim&gt;ObjectId'},
								{path: 'sim&gt;PlantDescription'},
								{path: 'sim&gt;Plant'}
							],
							formatter: '.testUtils.listItemFormatter'
						}" class="sapUiSmallMarginBegin" press="onQuickEntryPressed" />
				</HBox>
			</CustomListItem>
		</items>
	</List>
</mvc:View>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>This layout can be achieved only manually though...
And of course, if the beautify function is triggered the complete view will be transformed to the inline style.
So in case of XML views __NEVER__ use beautification!
This means you have to manually provide the correct indentation, so please always pay attention to it.
### Infrastructure
Jenkins jobs:
- SimulationS1
	- [i2d.lo.vchclf.simulations1-masters1-CI](https://fiodevci03.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-CI/)
	- [i2d.lo.vchclf.simulations1-masters1-abap-upload](https://fiodevci03.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-abap-upload/)
	- [i2d.lo.vchclf.simulations1-masters1-gerrit-voter](https://fiovoter.wdf.sap.corp/job/i2d.lo.vchclf.simulations1-masters1-gerrit-voter/)
- Library
	- [i2d.lo.lib.vchclf-masters1-CI](https://fiodevci03.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-CI/)
	- [i2d.lo.lib.vchclf-masters1-abap-upload](https://fiodevci03.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-abap-upload/)
	- [i2d.lo.lib.vchclf-masters1-gerrit-voter](https://fiovoter.wdf.sap.corp/job/i2d.lo.lib.vchclf-masters1-gerrit-voter/)
[![Continuous Integration](./img/ci.png)](./img/ci.png)
## Documentation
In Fiori UI development, we have to document our application/component using JSDoc.
You can generate JSDoc comments with the `Ctrl + Alt + J` shortcut.
This functionality works a little strange, you have to place your cursor on the function keyword to make it happen.
An example JSDoc comment:
``` javascript
/**
 * Formats the incoming parameters for the favorites &amp; recently used list
 * @param {string} sObjDesc - Description of the object
 * @param {string} sObjId - ID of the object
 * @param {string} sPlantDesc - Plant description
 * @param {string} sPlantId - Plant ID
 * @returns {string} Formatted string for displaying on the UI
 * @public
 */
listItemFormatter: function (sObjDesc, sObjId, sPlantDesc, sPlantId) {
	return "dummy";
}
</code></pre></div></div>
<p>Every method should be documented this way, even the private ones.
For reference and available keywords, please visit the official page of <a href="http://usejsdoc.org/">JSDoc</a>.
Every JSDoc should be consistent so always use the mentioned format. Do not use any unnecessary flags.</p>
<h2 id="git">Git</h2>
<p>To maintain a clear and concise Git history please adhere the following rules when writing your commit messages.</p>
<h3 id="git-setup">Git Setup</h3>
<p>If you use Git locally on your machine, please make sure that you configure Git with your name and email address correctly.
Use the following commands to do so:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --global user.name "John Doe"
git config --global user.email johndoe@example.com
</code></pre></div></div>
<p>When instaling Git on your machine you are asked what text editor you would like to use for writing Git commit messages.
If you are not familiar with <code class="highlighter-rouge">vi</code> editor (Git’s default), and missed this setting during installation, you may use the following command to change the default editor to e.g. Nodepad++:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --global core.editor "'C:/Program Files/Notepad++/notepad++.exe' -multiInst -nosession"
</code></pre></div></div>
<p>See the following link for more information:</p>
<ul>
  <li><a href="https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup">Getting Started First Time Git Setup</a>
    <h3 id="commit-title">Commit title</h3>
    <p>The first line of the commit message is the title.
This should contain a <strong>short</strong> description of what changes have been done in the commit.
Please adhere to these rules:</p>
  </li>
  <li>Try limiting the length of the title to 50 characters never go above 72
    <ul>
      <li>If your change needs further explanation use the message body</li>
    </ul>
  </li>
  <li>Separate the commit title from the message body with an blank line</li>
  <li>Prefix your commit message with the appropriate prefix (see table below)</li>
  <li>Use the imperative mood in the title
    <ul>
      <li>The title should read as if <em>“If I apply this commit it will</em> <code class="highlighter-rouge">&lt;Commit message title&gt;</code>”</li>
      <li>e.g.: <code class="highlighter-rouge">[TEST] Add missing OPA tests for Structure Panel</code> -&gt; <em>“If I apply this commit it will</em> <code class="highlighter-rouge">[TEST] Add missing OPA tests for Structure Panel</code>”</li>
    </ul>
  </li>
  <li>Capiatlize the subject line</li>
  <li>Do not use puctuation in the title
| Prefix		| When to use?												|
| ————- | ——————————————————— |
| <code class="highlighter-rouge">[TEST]</code>		| Changes done in test code									|
| <code class="highlighter-rouge">[FIX]</code>		| Changes done due to an incident							|
| <code class="highlighter-rouge">[INTERNAL]</code>	| Minor changes (e.g.: TODO removal, ESLint corrections)	|
| <code class="highlighter-rouge">[FEATURE]</code>	| Other cases not covered above								|
| <code class="highlighter-rouge">[POM]</code>		| Updating the <code class="highlighter-rouge">pom.xml</code>									|
| <code class="highlighter-rouge">[GITIGNORE]</code>	| Updating the <code class="highlighter-rouge">.gitignore</code>									|
    <h3 id="commit-message-body">Commit message body</h3>
    <p>Use the message body to explain the details of the changes if needed (for trivial changes you may omit the message body completely).
Please adhere to these rules:</p>
  </li>
  <li>Wrap the text body at 72 characters</li>
  <li>Use the body to explain what you did and why instead of how (that should speak for itself from the code)</li>
  <li>Add references at the end of the commit message body (these will be converted to links in Gerrit)
    <ul>
      <li>BCP: <code class="highlighter-rouge">&lt;incident number&gt;</code></li>
      <li>JIRA: <code class="highlighter-rouge">&lt;backlog item id / task id / both&gt;</code></li>
    </ul>
  </li>
  <li>Leave an empty line at the end of the commit message body
    <ul>
      <li>This is where the Gerrit Change-Id will be inserted
A sample Git commit message:
```
[FEATURE] The Title is a short summary of your Commit
More detailed explanatory text, if necessary. Wrap it to about 72
characters or so. In some contexts, the first line is treated as the
subject of the commit and the rest of the text as the body. The
blank line separating the summary from the body is critical (unless
you omit the body entirely); various tools like <code class="highlighter-rouge">log</code>, <code class="highlighter-rouge">shortlog</code>
and <code class="highlighter-rouge">rebase</code> can get confused if you run the two together.
Explain the problem that this commit is solving. Focus on why you
are making this change as opposed to how (the code explains that).
Are there side effects or other unintuitive consequences of this
change? Here’s the place to explain them.
Further paragraphs come after blank lines.</li>
    </ul>
  </li>
  <li>Bullet points are okay, too</li>
  <li>Typically a hyphen is used for the bullet
Put any further references at the bottom, like this (these will
generate clickable links in Gerrit):
BCP: 123456789
JIRA: SCON2-1234, SCON2-4567</li>
</ul>
<p>&lt;Leave a blank line at the end, this is where the Gerrit Change-Id
will be inserted&gt;</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>For more detailed description of these rules please see the following blog post on writing Git commit messages:
- [How to Write a Git Commit Message](https://chris.beams.io/posts/git-commit/)
### Commit hooks
If you use Git locally on your machine, please use the following commit hooks to ensure that a Gerrit Change-Id is generated whenever you do a commit or a merge.
Copy these two files and paste them into the `.git/hooks` folder of all your repositories:
- [commit-msg](./hooks/commit-msg)
- [prepare-commit-msg](./hooks/prepare-commit-msg)
### Aliases
If you use Git locally on your machine, you may find the following aliases helpful (copy and paste them into your `.gintconfig` file):
```gitconfig
[alias]
	ll = log --pretty='%C(red bold)%h%Creset |%C(yellow bold)%d%Creset %s %C(green)%cd %Creset%C(yellow)(%cr)%Creset %C(cyan)[%an]%Creset' --graph --date=format:'%Y-%m-%d %H:%M:%S' --all
	sc = show --pretty='parent %C(red bold)%p%Creset commit %C(red bold)%h%Creset%C(yellow bold)%d%Creset%n%n%w(72,2,2)%s%n%n%b%n%n%w(72,0,0)%Cgreen%ad (%ar)%Creset %C(cyan)%an%Creset' --date=format:'%Y-%m-%d %H:%M:%S' --name-only
	co = checkout
	st = status --short --branch
	gerrit = push origin HEAD:refs/for/masters1
</code></pre></div></div>
<p>Explanations:</p>
<ul>
  <li><code class="highlighter-rouge">ll</code> - This will do shortlog for all the branches (think “[l]og al[l]”)</li>
  <li><code class="highlighter-rouge">sc</code> - You can use this to look into a commit (think “[s]how [c]ommit”)</li>
  <li><code class="highlighter-rouge">co</code> - You can use this to checkout a banch (think “[c]heck[o]ut”)</li>
  <li><code class="highlighter-rouge">st</code> - You can use this to see a status of your working directory (think “[st]atus”)</li>
  <li><code class="highlighter-rouge">gerrit</code> - You can use this to push the current <code class="highlighter-rouge">HEAD</code> to Gerrit (no thinking is needed for this)
    <h2 id="references">References</h2>
    <h3 id="useful-links">Useful links</h3>
    <p>JavaScript Coding Guidelines</p>
  </li>
  <li>https://help.sap.com/saphelp_uiaddon10/helpdata/en/ed/ed636b85584cd586b1fe231d2b5dac/content.htm?loaded_from_frameset=true
WebIDE @ SAPJAM</li>
  <li>https://jam4.sapjam.com/groups/about_page/5EHZq2fndLhIvK0Q8DM25a
General information about fiori</li>
  <li>https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Fiori+Essentials</li>
  <li>https://wiki.wdf.sap.corp/wiki/display/fioritech/Fiori+Technology+Home
UI5 @ Stack Overflow (both SAP UI5 and OpenUI5)</li>
  <li>http://stackoverflow.com/questions/tagged/sapui5
UI5 @ SAPJAM</li>
  <li>https://jam4.sapjam.com/groups/about_page/7MFgdXHJVVv2BWC8g0Ubep</li>
  <li>https://jam4.sapjam.com/groups/about_page/46nPHpwJRbaNkd9QFAWtiW
UI5 topic owners</li>
  <li>http://vesapui5.dhcp.wdf.sap.corp:8000/ui5team/#/ownership
UI5 @ Jira</li>
  <li>https://sapjira.wdf.sap.corp/secure/IssueHierarchyOverview!default.jspa?projectKey=CPOUIFPHOENIXCORE&amp;displayMode=ranking
Speaking JavaScript</li>
  <li>http://speakingjs.com/es5/index.html
Exploring ES6</li>
  <li>http://exploringjs.com/es6/
JSDoc:</li>
  <li>http://usejsdoc.org/
ESLint:</li>
  <li>https://eslint.org/
SAP recommended ESLint Code Checks:</li>
  <li>https://help.sap.com/saphelp_uiaddon10/helpdata/en/1b/a0e44f1036439b95f25527664f14f7/frameset.htm
Sample ESLintRC file:</li>
  <li><a href="./res/.eslintrc">.eslintrc</a>
Pro Git, a free online book on Git:</li>
  <li>https://git-scm.com/book/en/v2/
How to Write a Git Commit Message:</li>
  <li>https://chris.beams.io/posts/git-commit/
    <h3 id="hungarian-notation">Hungarian Notation</h3>
    <p>| Type					| Prefix	| Sample		|
| ——————— | ——— | ————- |
| array					| <code class="highlighter-rouge">a</code>		| <code class="highlighter-rouge">aEntries</code>	|
| boolean				| <code class="highlighter-rouge">b</code>		| <code class="highlighter-rouge">bEnabled</code>	|
| date					| <code class="highlighter-rouge">d</code>		| <code class="highlighter-rouge">dToday</code>		|
| float					| <code class="highlighter-rouge">f</code>		| <code class="highlighter-rouge">fDecimal</code>	|
| function				| <code class="highlighter-rouge">fn</code>		| <code class="highlighter-rouge">fnFunction</code>	|
| int					| <code class="highlighter-rouge">i</code>		| <code class="highlighter-rouge">iCount</code>		|
| jQuery object			| <code class="highlighter-rouge">$</code>		| <code class="highlighter-rouge">$DomRef</code>		|
| map / assoc. array	| <code class="highlighter-rouge">m</code>		| <code class="highlighter-rouge">mParameters</code>	|
| object				| <code class="highlighter-rouge">o</code>		| <code class="highlighter-rouge">oDomRef</code>		|
| regular expression	| <code class="highlighter-rouge">r</code>		| <code class="highlighter-rouge">rPattern</code>	|
| string				| <code class="highlighter-rouge">s</code>		| <code class="highlighter-rouge">sId</code>			|
| variant types			| <code class="highlighter-rouge">v</code>		| <code class="highlighter-rouge">vVariant</code>	|</p>
  </li>
</ul>

  </div><a class="u-url" href="/routing/favorites/2019/01/03/coding_guidelines.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Variant Configuration</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Variant Configuration</li><li><a class="u-email" href="mailto:otto.csanyi@sap.com">otto.csanyi@sap.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ottocesc"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ottocesc</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Here the SAP Variant Configuration related documents are stored for internal usage.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
